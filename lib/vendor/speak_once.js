// Generated by CoffeeScript 1.6.2
(function() {
  var Campfire, SpeakOnce, _,
    __slice = [].slice;

  Campfire = require('../vendor/campfire').Campfire;

  _ = require('underscore')._;

  SpeakOnce = (function() {
    function SpeakOnce() {
      var args, callback, room_id;

      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      if (_.isFunction(args[0])) {
        room_id = process.env.campfire_bot_room;
        callback = args[0];
      } else {
        room_id = args[0];
        callback = args[1];
      }
      this.campfire = new Campfire({
        ssl: true,
        token: process.env.campfire_bot_token,
        account: process.env.campfire_bot_account
      });
      this.campfire.room(room_id, function(room) {
        return callback(room);
      });
    }

    return SpeakOnce;

  })();

  module.exports = {
    SpeakOnce: SpeakOnce
  };

}).call(this);
